<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

        //creates the table header
        var senderHeader = document.createElement("th");
		senderHeader.id = "senderStuff"
		senderHeader.innerHTML = "Sender";
		senderTable.appendChild(senderHeader);

		var subjectHeader = document.createElement("th");
		subjectHeader.id = "subjectStuff"
		subjectHeader.innerHTML = "Subject";
		subjectTable.appendChild(subjectHeader);

		var dateHeader = document.createElement("th");
		dateHeader.id = "subjectStuff"
		dateHeader.innerHTML = "Date";
		dateTable.appendChild(dateHeader);

		
        
        //acesses data from window.geemails
        for (var i = 0; i < window.geemails.length; i++) {
        	var senderRow = document.createElement('tr');
   			senderRow.className = 'from';
   			senderRow.innerHTML = window.geemails[i].sender;
   			

   			var subjectRow = document.createElement('tr');
   			subjectRow.className = 'subj';
   			subjectRow.innerHTML = window.geemails[i].subject;
   			

   			var dateRow = document.createElement('tr');
   			dateRow.className = 'dater';
   			dateRow.innerHTML = window.geemails[i].date;
   			

   			var bodyRow = document.createElement('tr');
   			bodyRow.className = 'bod';
   			bodyRow.innerHTML = window.geemails[i].body;
   			
        	
        }
    	
        function eachRow(sender, subject, date) {
        	this.sender = sender;
        	this.subject = subject;
        	this.date = date;
        }
    	var myArray = new Array();
    	myArray[0] = new eachRow(window.geemails[0].sender, window.geemails[0].subject, window.geemails[0].date);
    	myArray[1] = new eachRow(window.geemails[1].sender, window.geemails[1].subject, window.geemails[1].date);

    	var row = document.createElement('tr');
    	row.innerHTML = myArray;
    	senderTable.appendChild(row);

    	console.log(myArray);

    	var personSent = document.getElementsByClassName('email');
    	for (var i = 0; i < personSent.length; i++) {
    		personSent[i].addEventListener('click', show);
    	}

    	function show() {
    		var showMessage = this.querySelectorAll('.bod')[0];
    		if (showMessage.style.display === "none") {
    			showMessage.style.display = "block";
    		}else {
    			showMessage.style.display = "none";
    		}
    	}
      }
    </script>
	</head>
	<body>
		<h1>Gee-Mail</h1>
		<div class="container" id="main">
			<table >
				<tr class="email">
				    <th id="senderTable"></th> 
				    <th id="subjectTable"></th>
				    <th id="dateTable"></th>
				    <th id="bodyTable"></th>
				</tr>
			</table>


		</div>
	</body>
</html>